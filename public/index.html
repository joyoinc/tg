<!DOCTYPE html>
<html>
	<head>
		<!--link rel="stylesheet" type="text/css" href="semantic/dist/semantic.min.css"-->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

		<script src="https://fb.me/react-0.14.6.min.js"></script>
		<script src="https://fb.me/react-dom-0.14.6.min.js"></script>

		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.1.8/semantic.min.css"/>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.1.8/semantic.min.js"></script>
		
		<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
		
	</head>
	<body>
		<script type="text/babel">
			var Person = React.createClass({

				propTypes: {
					name: React.PropTypes.string.isRequired,
					isMale: React.PropTypes.bool
				},

				getDefaultProps: function(){
					return { name: '' }
				},

				getInitialState: function() {
					return { value: 1}
				},

				render: function() {
					var greeting = 'Hello';

					if(this.props.name.length > 0) {
						greeting = 'Hi ' + this.props.name ;
					}

					return (
						<div>
							<div>{greeting} ! Thanks for your Questions</div>
						</div>
					)
				}
			});

			var Question = React.createClass({
				render: function() {
					return (
						<a className='item'>
							<i className='right triangle icon'></i>
							<div className='content'>
								<div className='header'>{this.props.title}</div>
								<div className='description'>{this.props.detail}</div>
							</div>
						</a>
					)
				}
			});

			var Questions = React.createClass({
				getInitialState: function(){
					return { qs: [] }
				},

				_addOneQuestion: function() {
					var title = $('#title').val();
					var detail = $('#detail').val();

					if(title.match(/^\s*$/)) {
						$('#title').parent().addClass('error');
						return false;
					}

					var qs = this.state.qs;
					qs.push({title:title, detail:detail});
					this.setState( { qs: qs } );
				},

				_add: function() {
					console.log('clicked');
				},
				
				render: function() {
					return (
						<div>
							<div className='ui button' onClick={this._addOneQuestion}>Add another</div>
							<div className='ui list'>
							{this.state.qs.map(function(q){
								return (<Question title={q.title} detail={q.detail} />);
							})}
							</div>
						</div>
					)
				}
			});

			ReactDOM.render(
				<Person name='adam' />,
				document.getElementById('tmpl1')
			);

			ReactDOM.render(
				<Questions />,
				document.getElementById('tmpl2')
			);

		</script>

		<div class='main ui container'>
			<form class='ui form' style='padding-top: 3em'>
				<h4 id='tmpl1' class='ui dividing header'></h4>
				<div class='field'>
					<label>How we contact you ?</label>
					<div class='inline fields'>
						<div class='four wide field'>
							<input id='firstName' type='text' placeholder='Your First Name'>
						</div>
						<div class='four wide field'>
							<input id='lastName' type='text' placeholder='Your Last Name'>
						</div>
						<div class='eight wide field'>
							<input id='email' type='text' placeholder='Your Email'>
						</div>
					</div>
				</div>
				<div class='field'>
					<label>What's your Question ?</label>
					<div class='field'>
						<input id='title' type='text' placeholder='Your Question Title'>
					</div>
				</div>
				<div class='field'>
					<label>Can you provide more details ?</label>
					<div class='field'>
						<textarea id='detail' rows='3' placeholder='Details'></textarea>
					</div>
				</div>
				<div class='ui primary button'>Submit</div>
				<h4  class='ui dividing header'></h4>
			</form>

			<div id='tmpl2' style='padding-top:10px;'></div>
		</div>
	</body>
</html>
